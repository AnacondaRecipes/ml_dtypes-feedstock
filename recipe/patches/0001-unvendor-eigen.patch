From f8819b66b346dfdbefc06be6a6d2f44874003e91 Mon Sep 17 00:00:00 2001
From: Patryk Kups <pkups@anaconda.com>
Date: Tue, 18 Nov 2025 14:21:15 +0100
Subject: [PATCH] patch

---
 setup.py | 8 +++++++-
 1 file changed, 7 insertions(+), 1 deletion(-)

diff --git a/setup.py b/setup.py
index 446cee8..716b7c9 100644
--- a/setup.py
+++ b/setup.py
@@ -14,6 +14,8 @@
 
 """Setuptool-based build for ml_dtypes."""
 
+import os
+import sys
 import fnmatch
 import platform
 import numpy as np
@@ -66,7 +68,11 @@ setup(
                 "ml_dtypes/_src/numpy.cc",
             ],
             include_dirs=[
-                "third_party/eigen",
+                (
+                    os.path.join(sys.prefix, "Library", "include", "eigen3")
+                    if sys.platform.startswith("win")
+                    else os.path.join(sys.prefix, "include", "eigen3")
+                ),
                 ".",
                 np.get_include(),
             ],
-- 
2.45.2

